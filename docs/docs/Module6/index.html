<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Module6" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Module 6: Understanding Forwarders and How They Work? | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/nitrocourse/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/nitrocourse/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/nitrocourse/docs/Module6"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Module 6: Understanding Forwarders and How They Work? | My Site"><meta data-rh="true" name="description" content="Welcome to Module 6 Of Router Nitro CookBook. In this module, we&#x27;ll be understanding what are forwarders, how do they work, and how Router Protocol has been implementing it. Let&#x27;s Begin..."><meta data-rh="true" property="og:description" content="Welcome to Module 6 Of Router Nitro CookBook. In this module, we&#x27;ll be understanding what are forwarders, how do they work, and how Router Protocol has been implementing it. Let&#x27;s Begin..."><link data-rh="true" rel="icon" href="/nitrocourse/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/nitrocourse/docs/Module6"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/nitrocourse/docs/Module6" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/nitrocourse/docs/Module6" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/nitrocourse/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/nitrocourse/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/nitrocourse/assets/css/styles.a17ad002.css">
<script src="/nitrocourse/assets/js/runtime~main.11a72ac9.js" defer="defer"></script>
<script src="/nitrocourse/assets/js/main.316a9bb6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/nitrocourse/"></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nitrocourse/docs/Module1">Module 1: What&#x27;s the Need of Router Nitro &amp; Why to Use it?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nitrocourse/docs/Module2">Module 2: What is Asset Swapping and Asset Transfer?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nitrocourse/docs/Module3">Module 3: Introduction to Router Nitro &amp; its Statistics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nitrocourse/docs/Module4">Module 4: What&#x27;s the Difference between Router Nitro &amp; Other Products in the Market?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nitrocourse/docs/Module5">Module 5: What are Some Prerequisites for Learning Router Nitro?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/nitrocourse/docs/Module6">Module 6: Understanding Forwarders and How They Work?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nitrocourse/docs/Module7">Module 7: Explaining the CodeBase of Router Nitro - Part 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nitrocourse/docs/Module8">Module 8: Explaining the CodeBase of Router Nitro - Part 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nitrocourse/docs/Module9">Module 9: Explaining the CodeBase of Router Nitro - Part 3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nitrocourse/docs/">Router Nitro Course CookBook</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/nitrocourse/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Module 6: Understanding Forwarders and How They Work?</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1><code>Module 6: Understanding Forwarders and How They Work?</code></h1>
<p>Welcome to Module 6 Of Router Nitro CookBook. In this module, we&#x27;ll be understanding what are forwarders, how do they work, and how Router Protocol has been implementing it. Let&#x27;s Begin...</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-forwarders">What are Forwarders?<a href="#what-are-forwarders" class="hash-link" aria-label="Direct link to What are Forwarders?" title="Direct link to What are Forwarders?">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://github.com/router-resources/Router-Nitro-CookBook/assets/124175970/b8e783e5-d5dd-41b7-a1c9-94157fc3b04d" alt="forwarders" class="img_ev3q"></p>
<ul>
<li>
<p>Picture a scenario where you need to transfer funds from Bank A to Bank B. In this process, Router Nitro acts as an intermediary, collecting the money from Bank A, and then its partners, referred to as forwarders, personally convey the funds to Bank B. Following the transfer, Router Nitro undertakes a crucial verification step to ensure that the amount you originally deposited in Bank A matches the amount that arrives at Bank B. If the verification is successful, Router Nitro’s partners retrieve the funds they initially transferred to your Bank B, effectively completing the transaction.</p>
</li>
<li>
<p>Router Nitro has three flows with which it enables this swapping -</p>
</li>
</ul>
<ol>
<li><strong>Forwarder Flow:</strong> It uses a trustless optimistic approach to handle cross-chain asset transfers and has an entity called the forwarder that provides the users with their desired assets on the destination chain.</li>
<li><strong>Burn and Mint flow:</strong> For certain tokens, the bridge has mint/burn rights, which allows the bridge to burn the tokens on one chain and mint them on another.</li>
<li><strong>USDC circle flow:</strong> This flow uses Circle’s CCTP infra to provide cross-chain transfers of USDC. The flow works for USDC transfers on chains where CCTP is live.</li>
</ol>
<ul>
<li>Now, we will be covering the Forwarder flow, and before we do that, here are some terms and their explanations for you to understand the flow in a better way</li>
</ul>
<ol>
<li><strong>Orchestrators:</strong> It ensures that all the validators and relayers are playing in sync and that the information being passed between them is accurate and legitimate.</li>
<li><strong>Middleware contract:</strong> It is a contract which is deployed on the Router chain, which enables custom business logic directly in the bridging layer.</li>
<li><strong>IBC:</strong> Inter-Blockchain Communication Protocol is an open-source protocol to handle authentication and transport of data between blockchains (within the Cosmos ecosystem.</li>
<li><strong>Gateway contracts:</strong> Gateway contracts serve as the interface for the application contracts on any chain to interact with contracts on other chains.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-router-nitro-implement-the-forwarders">How does Router Nitro implement the Forwarders?<a href="#how-does-router-nitro-implement-the-forwarders" class="hash-link" aria-label="Direct link to How does Router Nitro implement the Forwarders?" title="Direct link to How does Router Nitro implement the Forwarders?">​</a></h3>
<ul>
<li>
<p>In the forwarder flow, first of all, a user invokes the Nitro contract to transfer funds from Chain A (source) to Chain B (destination). The source chain Nitro contract will validate the request, deduct funds from the user’s account, increment event nonce and emit a FundsDeposited event. Whenever a FundsDeposited event is emitted from a Nitro contract, Orchestrators listen to this event and submit the event to the Router chain along with their attestation. Parallely, the forwarders also listen to the FundsDeposited event.</p>
</li>
<li>
<p>After 2/3+1 validation, the Router chain will invoke the middleware Nitro contract with the event info, and after this, the middleware contract will persist with the request! While the event was being processed on the Router chain (attestation, validator, submission on the middleware contract), in parallel, the forwarder also listens to the FundsDeposited event and invokes the Nitro contract on the destination chain.</p>
</li>
<li>
<p>Upon receiving the transaction, the Nitro contract on the destination chain will (a) transfer the defined amount from the forwarder address to the receiver address, (b) create a hash of the fields included in the request and persist it in the status map (to skip the replays), and © emit a FundsPaid event confirming the execution.Orchestrators on the Router chain listen to the FundsPaid event from the destination chain Nitro contract and submit it to the Router chain with their attestation. Upon receiving the FundsPaid event, the middleware contract verifies that the message generated from the request data is the same as the message hash from the executed event, marks the request as Completed and persists the forwarder address and amount.</p>
</li>
</ul>
<p>So, just like that, Router Nitro bridges your assets from Chain A to Chain B efficiently, securely, and with minimal cost using the reverse verification flow!</p>
<h1>Conclusion</h1>
<p>In conclusion, Module 6 of Router Nitro CookBook provided an in-depth understanding of forwarders and how they function within the Router Protocol ecosystem. By leveraging forwarders, Router Nitro facilitates cross-chain asset transfers efficiently and securely. The module outlined three key flows utilized by Router Nitro, namely the Forwarder Flow, Burn and Mint Flow, and the USDC Circle Flow, each catering to specific token transfer scenarios.</p>
<p>Moreover, the module introduced essential terms such as Orchestrators, Middleware contracts, IBC, and Gateway contracts to better comprehend the intricacies of the Forwarder Flow. It elucidated the step-by-step process involved in transferring funds from one chain to another, highlighting the crucial roles played by Orchestrators and forwarders in ensuring transaction validity and execution.</p>
<p>Through a detailed examination of the forwarder flow implementation, Module 6 illustrated how Router Nitro bridges assets seamlessly across different chains while maintaining security and minimizing costs. By employing a reverse verification flow, Router Nitro completes asset transfers with accuracy and reliability, thus offering users a robust solution for interoperability in the blockchain space.</p>
<h1>Share Your Learnings!</h1>
<p><img decoding="async" loading="lazy" src="https://github.com/router-resources/Router-Nitro-CookBook/assets/124175970/23258532-0dfa-407e-b695-2ed2eb39d1bc" alt="img" class="img_ev3q"></p>
<p><em>Share your learnings on Twitter. Click <a href="https://clicktotweet.com/D0eUV" target="_blank" rel="noopener noreferrer">here</a></em></p>
<h1><a href="/nitrocourse/docs/Module7"> Next : Module 7: Explaining the CodeBase of Router Nitro - Part 1 </a></h1></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Module6.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/nitrocourse/docs/Module5"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Module 5: What are Some Prerequisites for Learning Router Nitro?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/nitrocourse/docs/Module7"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Module 7: Explaining the CodeBase of Router Nitro - Part 1</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-forwarders" class="table-of-contents__link toc-highlight">What are Forwarders?</a></li><li><a href="#how-does-router-nitro-implement-the-forwarders" class="table-of-contents__link toc-highlight">How does Router Nitro implement the Forwarders?</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>